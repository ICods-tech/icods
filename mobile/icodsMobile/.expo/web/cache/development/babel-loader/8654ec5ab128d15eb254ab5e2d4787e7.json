{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _View = _interopRequireDefault(require(\"../../../exports/View\"));\n\nvar _VirtualizedList = _interopRequireDefault(require(\"../VirtualizedList\"));\n\nvar _invariant = _interopRequireDefault(require(\"fbjs/lib/invariant\"));\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nvar VirtualizedSectionList = function (_React$PureComponent) {\n  _inheritsLoose(VirtualizedSectionList, _React$PureComponent);\n\n  var _proto = VirtualizedSectionList.prototype;\n\n  _proto.scrollToLocation = function scrollToLocation(params) {\n    var index = params.itemIndex + 1;\n\n    for (var ii = 0; ii < params.sectionIndex; ii++) {\n      index += this.props.sections[ii].data.length + 2;\n    }\n\n    var toIndexParams = _objectSpread({}, params, {\n      index: index\n    });\n\n    this._listRef.scrollToIndex(toIndexParams);\n  };\n\n  _proto.getListRef = function getListRef() {\n    return this._listRef;\n  };\n\n  _proto._subExtractor = function _subExtractor(index) {\n    var itemIndex = index;\n    var defaultKeyExtractor = this.props.keyExtractor;\n\n    for (var ii = 0; ii < this.props.sections.length; ii++) {\n      var section = this.props.sections[ii];\n      var key = section.key || String(ii);\n      itemIndex -= 1;\n\n      if (itemIndex >= section.data.length + 1) {\n        itemIndex -= section.data.length + 1;\n      } else if (itemIndex === -1) {\n        return {\n          section: section,\n          key: key + ':header',\n          index: null,\n          header: true,\n          trailingSection: this.props.sections[ii + 1]\n        };\n      } else if (itemIndex === section.data.length) {\n        return {\n          section: section,\n          key: key + ':footer',\n          index: null,\n          header: false,\n          trailingSection: this.props.sections[ii + 1]\n        };\n      } else {\n        var keyExtractor = section.keyExtractor || defaultKeyExtractor;\n        return {\n          section: section,\n          key: key + ':' + keyExtractor(section.data[itemIndex], itemIndex),\n          index: itemIndex,\n          leadingItem: section.data[itemIndex - 1],\n          leadingSection: this.props.sections[ii - 1],\n          trailingItem: section.data[itemIndex + 1],\n          trailingSection: this.props.sections[ii + 1]\n        };\n      }\n    }\n  };\n\n  _proto._getSeparatorComponent = function _getSeparatorComponent(index, info) {\n    info = info || this._subExtractor(index);\n\n    if (!info) {\n      return null;\n    }\n\n    var ItemSeparatorComponent = info.section.ItemSeparatorComponent || this.props.ItemSeparatorComponent;\n    var SectionSeparatorComponent = this.props.SectionSeparatorComponent;\n    var isLastItemInList = index === this.state.childProps.getItemCount() - 1;\n    var isLastItemInSection = info.index === info.section.data.length - 1;\n\n    if (SectionSeparatorComponent && isLastItemInSection) {\n      return SectionSeparatorComponent;\n    }\n\n    if (ItemSeparatorComponent && !isLastItemInSection && !isLastItemInList) {\n      return ItemSeparatorComponent;\n    }\n\n    return null;\n  };\n\n  _proto._computeState = function _computeState(props) {\n    var offset = props.ListHeaderComponent ? 1 : 0;\n    var stickyHeaderIndices = [];\n    var itemCount = props.sections.reduce(function (v, section) {\n      stickyHeaderIndices.push(v + offset);\n      return v + section.data.length + 2;\n    }, 0);\n    return {\n      childProps: _objectSpread({}, props, {\n        renderItem: this._renderItem,\n        ItemSeparatorComponent: undefined,\n        data: props.sections,\n        getItemCount: function getItemCount() {\n          return itemCount;\n        },\n        getItem: getItem,\n        keyExtractor: this._keyExtractor,\n        onViewableItemsChanged: props.onViewableItemsChanged ? this._onViewableItemsChanged : undefined,\n        stickyHeaderIndices: props.stickySectionHeadersEnabled ? stickyHeaderIndices : undefined\n      })\n    };\n  };\n\n  function VirtualizedSectionList(props, context) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props, context) || this;\n\n    _this._keyExtractor = function (item, index) {\n      var info = _this._subExtractor(index);\n\n      return info && info.key || String(index);\n    };\n\n    _this._convertViewable = function (viewable) {\n      (0, _invariant.default)(viewable.index != null, 'Received a broken ViewToken');\n\n      var info = _this._subExtractor(viewable.index);\n\n      if (!info) {\n        return null;\n      }\n\n      var keyExtractor = info.section.keyExtractor || _this.props.keyExtractor;\n      return _objectSpread({}, viewable, {\n        index: info.index,\n        key: keyExtractor(viewable.item, info.index),\n        section: info.section\n      });\n    };\n\n    _this._onViewableItemsChanged = function (_ref) {\n      var viewableItems = _ref.viewableItems,\n          changed = _ref.changed;\n\n      if (_this.props.onViewableItemsChanged) {\n        _this.props.onViewableItemsChanged({\n          viewableItems: viewableItems.map(_this._convertViewable, _assertThisInitialized(_assertThisInitialized(_this))).filter(Boolean),\n          changed: changed.map(_this._convertViewable, _assertThisInitialized(_assertThisInitialized(_this))).filter(Boolean)\n        });\n      }\n    };\n\n    _this._renderItem = function (_ref2) {\n      var item = _ref2.item,\n          index = _ref2.index;\n\n      var info = _this._subExtractor(index);\n\n      if (!info) {\n        return null;\n      }\n\n      var infoIndex = info.index;\n\n      if (infoIndex == null) {\n        var section = info.section;\n\n        if (info.header === true) {\n          var renderSectionHeader = _this.props.renderSectionHeader;\n          return renderSectionHeader ? renderSectionHeader({\n            section: section\n          }) : null;\n        } else {\n          var renderSectionFooter = _this.props.renderSectionFooter;\n          return renderSectionFooter ? renderSectionFooter({\n            section: section\n          }) : null;\n        }\n      } else {\n        var renderItem = info.section.renderItem || _this.props.renderItem;\n\n        var SeparatorComponent = _this._getSeparatorComponent(index, info);\n\n        (0, _invariant.default)(renderItem, 'no renderItem!');\n        return _react.default.createElement(ItemWithSeparator, {\n          SeparatorComponent: SeparatorComponent,\n          LeadingSeparatorComponent: infoIndex === 0 ? _this.props.SectionSeparatorComponent : undefined,\n          cellKey: info.key,\n          index: infoIndex,\n          item: item,\n          leadingItem: info.leadingItem,\n          leadingSection: info.leadingSection,\n          onUpdateSeparator: _this._onUpdateSeparator,\n          prevCellKey: (_this._subExtractor(index - 1) || {}).key,\n          ref: function ref(_ref3) {\n            _this._cellRefs[info.key] = _ref3;\n          },\n          renderItem: renderItem,\n          section: info.section,\n          trailingItem: info.trailingItem,\n          trailingSection: info.trailingSection\n        });\n      }\n    };\n\n    _this._onUpdateSeparator = function (key, newProps) {\n      var ref = _this._cellRefs[key];\n      ref && ref.updateSeparatorProps(newProps);\n    };\n\n    _this._cellRefs = {};\n\n    _this._captureRef = function (ref) {\n      _this._listRef = ref;\n    };\n\n    _this.state = _this._computeState(props);\n    return _this;\n  }\n\n  _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n    this.setState(this._computeState(nextProps));\n  };\n\n  _proto.render = function render() {\n    return _react.default.createElement(_VirtualizedList.default, _extends({}, this.state.childProps, {\n      ref: this._captureRef\n    }));\n  };\n\n  return VirtualizedSectionList;\n}(_react.default.PureComponent);\n\nVirtualizedSectionList.defaultProps = _objectSpread({}, _VirtualizedList.default.defaultProps, {\n  data: []\n});\n\nvar ItemWithSeparator = function (_React$Component) {\n  _inheritsLoose(ItemWithSeparator, _React$Component);\n\n  function ItemWithSeparator() {\n    var _this2;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this2 = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this2.state = {\n      separatorProps: {\n        highlighted: false,\n        leadingItem: _this2.props.item,\n        leadingSection: _this2.props.leadingSection,\n        section: _this2.props.section,\n        trailingItem: _this2.props.trailingItem,\n        trailingSection: _this2.props.trailingSection\n      },\n      leadingSeparatorProps: {\n        highlighted: false,\n        leadingItem: _this2.props.leadingItem,\n        leadingSection: _this2.props.leadingSection,\n        section: _this2.props.section,\n        trailingItem: _this2.props.item,\n        trailingSection: _this2.props.trailingSection\n      }\n    };\n    _this2._separators = {\n      highlight: function highlight() {\n        ['leading', 'trailing'].forEach(function (s) {\n          return _this2._separators.updateProps(s, {\n            highlighted: true\n          });\n        });\n      },\n      unhighlight: function unhighlight() {\n        ['leading', 'trailing'].forEach(function (s) {\n          return _this2._separators.updateProps(s, {\n            highlighted: false\n          });\n        });\n      },\n      updateProps: function updateProps(select, newProps) {\n        var _this2$props = _this2.props,\n            LeadingSeparatorComponent = _this2$props.LeadingSeparatorComponent,\n            cellKey = _this2$props.cellKey,\n            prevCellKey = _this2$props.prevCellKey;\n\n        if (select === 'leading' && LeadingSeparatorComponent) {\n          _this2.setState(function (state) {\n            return {\n              leadingSeparatorProps: _objectSpread({}, state.leadingSeparatorProps, newProps)\n            };\n          });\n        } else {\n          _this2.props.onUpdateSeparator(select === 'leading' && prevCellKey || cellKey, newProps);\n        }\n      }\n    };\n    return _this2;\n  }\n\n  var _proto2 = ItemWithSeparator.prototype;\n\n  _proto2.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(props) {\n    var _this3 = this;\n\n    this.setState(function (state) {\n      return {\n        separatorProps: _objectSpread({}, _this3.state.separatorProps, {\n          leadingItem: props.item,\n          leadingSection: props.leadingSection,\n          section: props.section,\n          trailingItem: props.trailingItem,\n          trailingSection: props.trailingSection\n        }),\n        leadingSeparatorProps: _objectSpread({}, _this3.state.leadingSeparatorProps, {\n          leadingItem: props.leadingItem,\n          leadingSection: props.leadingSection,\n          section: props.section,\n          trailingItem: props.item,\n          trailingSection: props.trailingSection\n        })\n      };\n    });\n  };\n\n  _proto2.updateSeparatorProps = function updateSeparatorProps(newProps) {\n    this.setState(function (state) {\n      return {\n        separatorProps: _objectSpread({}, state.separatorProps, newProps)\n      };\n    });\n  };\n\n  _proto2.render = function render() {\n    var _this$props = this.props,\n        LeadingSeparatorComponent = _this$props.LeadingSeparatorComponent,\n        SeparatorComponent = _this$props.SeparatorComponent,\n        item = _this$props.item,\n        index = _this$props.index,\n        section = _this$props.section;\n    var element = this.props.renderItem({\n      item: item,\n      index: index,\n      section: section,\n      separators: this._separators\n    });\n\n    var leadingSeparator = LeadingSeparatorComponent && _react.default.createElement(LeadingSeparatorComponent, this.state.leadingSeparatorProps);\n\n    var separator = SeparatorComponent && _react.default.createElement(SeparatorComponent, this.state.separatorProps);\n\n    return leadingSeparator || separator ? _react.default.createElement(_View.default, null, leadingSeparator, element, separator) : element;\n  };\n\n  return ItemWithSeparator;\n}(_react.default.Component);\n\nfunction getItem(sections, index) {\n  if (!sections) {\n    return null;\n  }\n\n  var itemIdx = index - 1;\n\n  for (var ii = 0; ii < sections.length; ii++) {\n    if (itemIdx === -1 || itemIdx === sections[ii].data.length) {\n      return sections[ii];\n    } else if (itemIdx < sections[ii].data.length) {\n      return sections[ii].data[itemIdx];\n    } else {\n      itemIdx -= sections[ii].data.length + 2;\n    }\n  }\n\n  return null;\n}\n\nvar _default = VirtualizedSectionList;\nexports.default = _default;","map":{"version":3,"sources":["/Volumes/Wand/Workspace/ICods/ICods/mobile/icodsMobile/node_modules/react-native-web/dist/vendor/react-native/VirtualizedSectionList/index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectSpread","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","_defineProperty","obj","value","defineProperty","configurable","writable","_inheritsLoose","subClass","superClass","create","constructor","__proto__","_assertThisInitialized","self","ReferenceError","VirtualizedSectionList","_React$PureComponent","_proto","scrollToLocation","params","index","itemIndex","ii","sectionIndex","props","sections","data","toIndexParams","_listRef","scrollToIndex","getListRef","_subExtractor","defaultKeyExtractor","keyExtractor","section","String","header","trailingSection","leadingItem","leadingSection","trailingItem","_getSeparatorComponent","info","ItemSeparatorComponent","SectionSeparatorComponent","isLastItemInList","state","childProps","getItemCount","isLastItemInSection","_computeState","offset","ListHeaderComponent","stickyHeaderIndices","itemCount","reduce","v","push","renderItem","_renderItem","undefined","getItem","_keyExtractor","onViewableItemsChanged","_onViewableItemsChanged","stickySectionHeadersEnabled","context","_this","item","_convertViewable","viewable","_ref","viewableItems","changed","map","Boolean","_ref2","infoIndex","renderSectionHeader","renderSectionFooter","SeparatorComponent","React","createElement","ItemWithSeparator","LeadingSeparatorComponent","cellKey","onUpdateSeparator","_onUpdateSeparator","prevCellKey","ref","_ref3","_cellRefs","newProps","updateSeparatorProps","_captureRef","UNSAFE_componentWillReceiveProps","nextProps","setState","render","VirtualizedList","PureComponent","defaultProps","_React$Component","_this2","_len","args","Array","_key","separatorProps","highlighted","leadingSeparatorProps","_separators","highlight","s","updateProps","unhighlight","select","_this2$props","_proto2","_this3","_this$props","element","separators","leadingSeparator","separator","View","Component","itemIdx"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n */\nimport React from 'react';\nimport View from '../../../exports/View';\nimport VirtualizedList from '../VirtualizedList';\nimport invariant from 'fbjs/lib/invariant';\n\n/**\n * Right now this just flattens everything into one list and uses VirtualizedList under the\n * hood. The only operation that might not scale well is concatting the data arrays of all the\n * sections when new props are received, which should be plenty fast for up to ~10,000 items.\n */\nvar VirtualizedSectionList =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inheritsLoose(VirtualizedSectionList, _React$PureComponent);\n\n  var _proto = VirtualizedSectionList.prototype;\n\n  _proto.scrollToLocation = function scrollToLocation(params) {\n    var index = params.itemIndex + 1;\n\n    for (var ii = 0; ii < params.sectionIndex; ii++) {\n      index += this.props.sections[ii].data.length + 2;\n    }\n\n    var toIndexParams = _objectSpread({}, params, {\n      index: index\n    });\n\n    this._listRef.scrollToIndex(toIndexParams);\n  };\n\n  _proto.getListRef = function getListRef() {\n    return this._listRef;\n  };\n\n  _proto._subExtractor = function _subExtractor(index) {\n    var itemIndex = index;\n    var defaultKeyExtractor = this.props.keyExtractor;\n\n    for (var ii = 0; ii < this.props.sections.length; ii++) {\n      var section = this.props.sections[ii];\n      var key = section.key || String(ii);\n      itemIndex -= 1; // The section adds an item for the header\n\n      if (itemIndex >= section.data.length + 1) {\n        itemIndex -= section.data.length + 1; // The section adds an item for the footer.\n      } else if (itemIndex === -1) {\n        return {\n          section: section,\n          key: key + ':header',\n          index: null,\n          header: true,\n          trailingSection: this.props.sections[ii + 1]\n        };\n      } else if (itemIndex === section.data.length) {\n        return {\n          section: section,\n          key: key + ':footer',\n          index: null,\n          header: false,\n          trailingSection: this.props.sections[ii + 1]\n        };\n      } else {\n        var keyExtractor = section.keyExtractor || defaultKeyExtractor;\n        return {\n          section: section,\n          key: key + ':' + keyExtractor(section.data[itemIndex], itemIndex),\n          index: itemIndex,\n          leadingItem: section.data[itemIndex - 1],\n          leadingSection: this.props.sections[ii - 1],\n          trailingItem: section.data[itemIndex + 1],\n          trailingSection: this.props.sections[ii + 1]\n        };\n      }\n    }\n  };\n\n  _proto._getSeparatorComponent = function _getSeparatorComponent(index, info) {\n    info = info || this._subExtractor(index);\n\n    if (!info) {\n      return null;\n    }\n\n    var ItemSeparatorComponent = info.section.ItemSeparatorComponent || this.props.ItemSeparatorComponent;\n    var SectionSeparatorComponent = this.props.SectionSeparatorComponent;\n    var isLastItemInList = index === this.state.childProps.getItemCount() - 1;\n    var isLastItemInSection = info.index === info.section.data.length - 1;\n\n    if (SectionSeparatorComponent && isLastItemInSection) {\n      return SectionSeparatorComponent;\n    }\n\n    if (ItemSeparatorComponent && !isLastItemInSection && !isLastItemInList) {\n      return ItemSeparatorComponent;\n    }\n\n    return null;\n  };\n\n  _proto._computeState = function _computeState(props) {\n    var offset = props.ListHeaderComponent ? 1 : 0;\n    var stickyHeaderIndices = [];\n    var itemCount = props.sections.reduce(function (v, section) {\n      stickyHeaderIndices.push(v + offset);\n      return v + section.data.length + 2; // Add two for the section header and footer.\n    }, 0);\n    return {\n      childProps: _objectSpread({}, props, {\n        renderItem: this._renderItem,\n        ItemSeparatorComponent: undefined,\n        // Rendered with renderItem\n        data: props.sections,\n        getItemCount: function getItemCount() {\n          return itemCount;\n        },\n        getItem: getItem,\n        keyExtractor: this._keyExtractor,\n        onViewableItemsChanged: props.onViewableItemsChanged ? this._onViewableItemsChanged : undefined,\n        stickyHeaderIndices: props.stickySectionHeadersEnabled ? stickyHeaderIndices : undefined\n      })\n    };\n  };\n\n  function VirtualizedSectionList(props, context) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props, context) || this;\n\n    _this._keyExtractor = function (item, index) {\n      var info = _this._subExtractor(index);\n\n      return info && info.key || String(index);\n    };\n\n    _this._convertViewable = function (viewable) {\n      invariant(viewable.index != null, 'Received a broken ViewToken');\n\n      var info = _this._subExtractor(viewable.index);\n\n      if (!info) {\n        return null;\n      }\n\n      var keyExtractor = info.section.keyExtractor || _this.props.keyExtractor;\n      return _objectSpread({}, viewable, {\n        index: info.index,\n\n        /* $FlowFixMe(>=0.63.0 site=react_native_fb) This comment suppresses an\n         * error found when Flow v0.63 was deployed. To see the error delete this\n         * comment and run Flow. */\n        key: keyExtractor(viewable.item, info.index),\n        section: info.section\n      });\n    };\n\n    _this._onViewableItemsChanged = function (_ref) {\n      var viewableItems = _ref.viewableItems,\n          changed = _ref.changed;\n\n      if (_this.props.onViewableItemsChanged) {\n        _this.props.onViewableItemsChanged({\n          viewableItems: viewableItems.map(_this._convertViewable, _assertThisInitialized(_assertThisInitialized(_this))).filter(Boolean),\n          changed: changed.map(_this._convertViewable, _assertThisInitialized(_assertThisInitialized(_this))).filter(Boolean)\n        });\n      }\n    };\n\n    _this._renderItem = function (_ref2) {\n      var item = _ref2.item,\n          index = _ref2.index;\n\n      var info = _this._subExtractor(index);\n\n      if (!info) {\n        return null;\n      }\n\n      var infoIndex = info.index;\n\n      if (infoIndex == null) {\n        var section = info.section;\n\n        if (info.header === true) {\n          var renderSectionHeader = _this.props.renderSectionHeader;\n          return renderSectionHeader ? renderSectionHeader({\n            section: section\n          }) : null;\n        } else {\n          var renderSectionFooter = _this.props.renderSectionFooter;\n          return renderSectionFooter ? renderSectionFooter({\n            section: section\n          }) : null;\n        }\n      } else {\n        var renderItem = info.section.renderItem || _this.props.renderItem;\n\n        var SeparatorComponent = _this._getSeparatorComponent(index, info);\n\n        invariant(renderItem, 'no renderItem!');\n        return React.createElement(ItemWithSeparator, {\n          SeparatorComponent: SeparatorComponent,\n          LeadingSeparatorComponent: infoIndex === 0 ? _this.props.SectionSeparatorComponent : undefined,\n          cellKey: info.key,\n          index: infoIndex,\n          item: item,\n          leadingItem: info.leadingItem,\n          leadingSection: info.leadingSection,\n          onUpdateSeparator: _this._onUpdateSeparator,\n          prevCellKey: (_this._subExtractor(index - 1) || {}).key,\n          ref: function ref(_ref3) {\n            _this._cellRefs[info.key] = _ref3;\n          },\n          renderItem: renderItem,\n          section: info.section,\n          trailingItem: info.trailingItem,\n          trailingSection: info.trailingSection\n        });\n      }\n    };\n\n    _this._onUpdateSeparator = function (key, newProps) {\n      var ref = _this._cellRefs[key];\n      ref && ref.updateSeparatorProps(newProps);\n    };\n\n    _this._cellRefs = {};\n\n    _this._captureRef = function (ref) {\n      /* $FlowFixMe(>=0.53.0 site=react_native_fb,react_native_oss) This comment\n       * suppresses an error when upgrading Flow's support for React. To see the\n       * error delete this comment and run Flow. */\n      _this._listRef = ref;\n    };\n\n    _this.state = _this._computeState(props);\n    return _this;\n  }\n\n  _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n    this.setState(this._computeState(nextProps));\n  };\n\n  _proto.render = function render() {\n    return React.createElement(VirtualizedList, _extends({}, this.state.childProps, {\n      ref: this._captureRef\n    }));\n  };\n\n  return VirtualizedSectionList;\n}(React.PureComponent);\n\nVirtualizedSectionList.defaultProps = _objectSpread({}, VirtualizedList.defaultProps, {\n  data: []\n});\n\nvar ItemWithSeparator =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(ItemWithSeparator, _React$Component);\n\n  function ItemWithSeparator() {\n    var _this2;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this2 = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this2.state = {\n      separatorProps: {\n        highlighted: false,\n        leadingItem: _this2.props.item,\n        leadingSection: _this2.props.leadingSection,\n        section: _this2.props.section,\n        trailingItem: _this2.props.trailingItem,\n        trailingSection: _this2.props.trailingSection\n      },\n      leadingSeparatorProps: {\n        highlighted: false,\n        leadingItem: _this2.props.leadingItem,\n        leadingSection: _this2.props.leadingSection,\n        section: _this2.props.section,\n        trailingItem: _this2.props.item,\n        trailingSection: _this2.props.trailingSection\n      }\n    };\n    _this2._separators = {\n      highlight: function highlight() {\n        ['leading', 'trailing'].forEach(function (s) {\n          return _this2._separators.updateProps(s, {\n            highlighted: true\n          });\n        });\n      },\n      unhighlight: function unhighlight() {\n        ['leading', 'trailing'].forEach(function (s) {\n          return _this2._separators.updateProps(s, {\n            highlighted: false\n          });\n        });\n      },\n      updateProps: function updateProps(select, newProps) {\n        var _this2$props = _this2.props,\n            LeadingSeparatorComponent = _this2$props.LeadingSeparatorComponent,\n            cellKey = _this2$props.cellKey,\n            prevCellKey = _this2$props.prevCellKey;\n\n        if (select === 'leading' && LeadingSeparatorComponent) {\n          _this2.setState(function (state) {\n            return {\n              leadingSeparatorProps: _objectSpread({}, state.leadingSeparatorProps, newProps)\n            };\n          });\n        } else {\n          _this2.props.onUpdateSeparator(select === 'leading' && prevCellKey || cellKey, newProps);\n        }\n      }\n    };\n    return _this2;\n  }\n\n  var _proto2 = ItemWithSeparator.prototype;\n\n  _proto2.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(props) {\n    var _this3 = this;\n\n    this.setState(function (state) {\n      return {\n        separatorProps: _objectSpread({}, _this3.state.separatorProps, {\n          leadingItem: props.item,\n          leadingSection: props.leadingSection,\n          section: props.section,\n          trailingItem: props.trailingItem,\n          trailingSection: props.trailingSection\n        }),\n        leadingSeparatorProps: _objectSpread({}, _this3.state.leadingSeparatorProps, {\n          leadingItem: props.leadingItem,\n          leadingSection: props.leadingSection,\n          section: props.section,\n          trailingItem: props.item,\n          trailingSection: props.trailingSection\n        })\n      };\n    });\n  };\n\n  _proto2.updateSeparatorProps = function updateSeparatorProps(newProps) {\n    this.setState(function (state) {\n      return {\n        separatorProps: _objectSpread({}, state.separatorProps, newProps)\n      };\n    });\n  };\n\n  _proto2.render = function render() {\n    var _this$props = this.props,\n        LeadingSeparatorComponent = _this$props.LeadingSeparatorComponent,\n        SeparatorComponent = _this$props.SeparatorComponent,\n        item = _this$props.item,\n        index = _this$props.index,\n        section = _this$props.section;\n    var element = this.props.renderItem({\n      item: item,\n      index: index,\n      section: section,\n      separators: this._separators\n    });\n    var leadingSeparator = LeadingSeparatorComponent && React.createElement(LeadingSeparatorComponent, this.state.leadingSeparatorProps);\n    var separator = SeparatorComponent && React.createElement(SeparatorComponent, this.state.separatorProps);\n    return leadingSeparator || separator ? React.createElement(View, null, leadingSeparator, element, separator) : element;\n  };\n\n  return ItemWithSeparator;\n}(React.Component);\n\nfunction getItem(sections, index) {\n  if (!sections) {\n    return null;\n  }\n\n  var itemIdx = index - 1;\n\n  for (var ii = 0; ii < sections.length; ii++) {\n    if (itemIdx === -1 || itemIdx === sections[ii].data.length) {\n      // We intend for there to be overflow by one on both ends of the list.\n      // This will be for headers and footers. When returning a header or footer\n      // item the section itself is the item.\n      return sections[ii];\n    } else if (itemIdx < sections[ii].data.length) {\n      // If we are in the bounds of the list's data then return the item.\n      return sections[ii].data[itemIdx];\n    } else {\n      itemIdx -= sections[ii].data.length + 2; // Add two for the header and footer\n    }\n  }\n\n  return null;\n}\n\nexport default VirtualizedSectionList;"]},"metadata":{},"sourceType":"script"}